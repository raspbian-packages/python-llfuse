From 8b3882e708afeea7c80ca9f24b9802431019b636 Mon Sep 17 00:00:00 2001
From: Nikolaus Rath <Nikolaus@rath.org>
Date: Mon, 7 Mar 2016 13:22:36 -0800
Subject: Skip extended attribute tests under GNU/kFreeBSD

Origin: Debian
Forwarded: not-needed

Under GNU/kFreeBSD the setxattr and getxattr functions are dummies
that return ENOTIMPL.
---
 test/test_api.py | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/test/test_api.py b/test/test_api.py
index 990b..af0f 100755
--- a/test/test_api.py
+++ b/test/test_api.py
@@ -21,6 +21,7 @@ import tempfile
 import os
 import errno
 import pytest
+import sys
 
 def test_inquire_bits():
     assert 0 < llfuse.get_ino_t_bits() < 256
@@ -58,7 +59,8 @@ def _getxattr_helper(path, name):
 
     return value
 
-
+@pytest.mark.skipif(sys.platform.startswith('gnukfreebsd'),
+                    reason='GNU/kFreeBSD does not have xattr support')
 def test_xattr():
     with tempfile.NamedTemporaryFile() as fh:
         key = 'user.new_attribute'
